{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    const feedbackForm = document.querySelector('.feedback-form');\n    const storedFeedbackState = localStorage.getItem('feedback-form-state');\n\n    const saveFeedbackState = throttle(function() {\n        const email = feedbackForm.querySelector('[name=\"email\"]').value;\n        const message = feedbackForm.querySelector('[name=\"message\"]').value;\n\n        const feedbackState = {\n            email,\n            message\n        };\n\n        localStorage.setItem('feedback-form-state', JSON.stringify(feedbackState));\n    }, 500);\n\n    feedbackForm.addEventListener('input', saveFeedbackState);\n\n    if (storedFeedbackState) {\n        const feedbackState = JSON.parse(storedFeedbackState);\n\n        feedbackForm.querySelector('[name=\"email\"]').value = feedbackState.email;\n        feedbackForm.querySelector('[name=\"message\"]').value = feedbackState.message;\n    }\n\n    feedbackForm.addEventListener('submit', function(event) {\n        event.preventDefault();\n\n        const email = feedbackForm.querySelector('[name=\"email\"]').value;\n        const message = feedbackForm.querySelector('[name=\"message\"]').value;\n\n        const feedbackState = {\n            email,\n            message\n        };\n\n        console.log(feedbackState);\n\n        localStorage.removeItem('feedback-form-state');\n\n        feedbackForm.reset();\n    });\n});\n"],"names":["feedbackForm","storedFeedbackState","saveFeedbackState","throttle","email","message","feedbackState","event"],"mappings":"wIAEA,SAAS,iBAAiB,mBAAoB,UAAW,CACrD,MAAMA,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAsB,aAAa,QAAQ,qBAAqB,EAEhEC,EAAoBC,EAAS,UAAW,CAC1C,MAAMC,EAAQJ,EAAa,cAAc,gBAAgB,EAAE,MACrDK,EAAUL,EAAa,cAAc,kBAAkB,EAAE,MAEzDM,EAAgB,CAClB,MAAAF,EACA,QAAAC,CACZ,EAEQ,aAAa,QAAQ,sBAAuB,KAAK,UAAUC,CAAa,CAAC,CAC5E,EAAE,GAAG,EAIN,GAFAN,EAAa,iBAAiB,QAASE,CAAiB,EAEpDD,EAAqB,CACrB,MAAMK,EAAgB,KAAK,MAAML,CAAmB,EAEpDD,EAAa,cAAc,gBAAgB,EAAE,MAAQM,EAAc,MACnEN,EAAa,cAAc,kBAAkB,EAAE,MAAQM,EAAc,OACxE,CAEDN,EAAa,iBAAiB,SAAU,SAASO,EAAO,CACpDA,EAAM,eAAc,EAEpB,MAAMH,EAAQJ,EAAa,cAAc,gBAAgB,EAAE,MACrDK,EAAUL,EAAa,cAAc,kBAAkB,EAAE,MAO/D,QAAQ,IALc,CAClB,MAAAI,EACA,QAAAC,CACZ,CAEiC,EAEzB,aAAa,WAAW,qBAAqB,EAE7CL,EAAa,MAAK,CAC1B,CAAK,CACL,CAAC"}